@use "../../variables"; 

$rows: 3; // Navbar/Footer do not count for this because this is only on the inner page
$cols: 2;

//
@mixin button-super {
    margin-top: 10px;
    width: 100%;
}

@mixin details-button-super {
    @include variables.button-base;
    font-size: 0.7em;

    &:hover {
        background-color: variables.$secondary-light-2;
        transition: 0.2s;
    }
}

@mixin column-super {
    // display: grid; <-- this maybe makes spacing in left column weird when right column gets too long

    // Row 1
    .header {
        grid-row: 1;
        grid-column: 1;
        display: grid;
        grid-template-columns: 1fr;
        grid-template-rows: 3em 2.5em;

        .content {
            grid-column: 1;
            color: variables.$primary-dark;
            font-family: variables.$font-semibold;
            font-size: 2em;
        }

        .selected-item-display {
            grid-column: auto;
            grid-row: 2;
            font-family: "Poppins";
            font-size: 1em;
            color: variables.$primary-dark;
            padding: 0.5em 0 0.5em 0;
            border-radius: 4px;
            overflow: hidden;
        }

        .divider {
            grid-column: 1 / span 4;
            background-color: variables.$primary-dark;
            height: 2px;
            position: relative;
            width: 100%;
        }
    }

    // Row 2
    .category-searchbar-cont2 {
        grid-row: 1;
        grid-column: 1 / span $cols;
        display: grid;
        grid-template-columns: 1fr 1fr;
        grid-template-rows: 3em;
    
        // height: 3em;
        margin: 0.5em 0 0 0;

        .magnifying-glass {
            position: absolute;
            padding: 10px;
            margin-top: 0.2em;
            font-size: 1em;
        }

        .clear-button {
            grid-column: 3;
            background-color: transparent;
            outline: none;
            border: none;
            box-sizing: border-box;

            .square-plus {
                padding: 0.5rem;
                font-size: 2rem;
                color: variables.$secondary-light-1;
                cursor: pointer;
            }

            &:focus-visible {
                outline: variables.$focus-styling;
            }
        }

        .searchbar {
            grid-column: 1 / span 2;
            background-color: variables.$accent-light;
            border-radius: 6px;
            border: none;
            box-sizing: border-box;
            color: variables.$primary-dark;
            font-family: variables.$font-normal;
            font-size: 1em;
            padding: 10px 10px 10px 2em;
            width: 100%;
    
            &:focus {
                outline: none !important; 
                box-shadow: inset 0 0 0 2px variables.$primary-light-1;
            }

            &:focus-visible {
                outline: variables.$focus-styling;
            }
        }
    }

    // Row 3

    .bottom {
        margin: auto;
    }

    .button2 {
        @include button-super;
        @include variables.button-base;
        
        &:hover {
            background-color: variables.$secondary-light-2;
            transition: 0.2s;
        }

        &--disabled {
            @include button-super; 
            @include variables.button-base--disabled;

            &:focus-visible {
                outline: variables.$focus-styling;
            }
        }

        &--cancel {
            @include button-super; 
            @include variables.button-base;
            background-color: variables.$background;
            background-color: variables.$accent-darker;
            color: white; 

            &:focus-visible {
                outline: variables.$focus-styling;
            }
        }

        &:focus-visible {
            outline: variables.$focus-styling;
        }
    }

    .category-list {
        border-radius: 6px;
        border: variables.$accent-light 0.1em solid;
        color: variables.$primary-dark;
        min-height: 20em;
        max-height: 30em;
        margin-top: 10px;
        overflow-y: auto;
        position: relative;
    }

    .datepicker-labels {
        border-radius: 4px;
        border: variables.$accent-light 0.1em solid;
        margin: 1.5em auto;
        padding: 0.5em 1em;
        position: relative;
        text-align: center;
        // width: 25%;

        .desc {
            font-family: variables.$font-normal;
        }
    }
}

.column-wrapper {
    height: 100%;
    background-color: transparent;
    display: grid;
    grid-template-columns: 1fr 0.05fr 1fr;
    // grid-template-rows: 2em 3em 20em;

    .column {
        @include column-super;
        grid-row: 1;
    }

    .column-left2 {
        @include column-super;
        display: grid;
        grid-template-rows: 0.24fr auto;
        grid-row: 1;
        grid-column: 1;
        //height: 50vh;
        margin-left: 1em; 
        margin-bottom: 1em;
        padding-bottom: 1em;

        &--mini {
            @include column-super;
            grid-row: 1;
            grid-column: 1 / span 3;

            margin-left: 1em; 
            margin-right: 1em;
            
            margin-bottom: 1em;
            padding-bottom: 1em;
        }
    }

    .column-right2 {
        @include column-super; 
        // gr: 1, gc: 3
        grid-row: 1;
        grid-column: 3;
        margin-bottom: 1em;
        padding-bottom: 1em;
        margin-right: 1em;

        display: grid;
        grid-template-columns: 1fr;
        grid-template-rows: 0.24fr auto 0.2fr;

        &--mini {
            @include column-super;
            grid-row: 4;
            grid-column: 1 / span 3;
            margin-right: 1em;
            margin-left: 1em;
            margin-top: 1em;
            padding-top: 1em;
        }

        .deviceManagementRight {
            background-color: transparent;
            display: grid;
            text-overflow: ellipsis;
            border-radius: 6px;
            border: #e3e3e3 0.1em solid;

            // grid-template-rows: 0.5fr 0.5fr 0.5fr 0.5fr 0.5fr 0.5fr 1fr 0.2fr;

            .r1 {
                display: grid;
                grid-row: 1;
                grid-column: 1 / span 3;
                grid-template-columns: 1fr 0.05fr 1fr;

                .c1 {
                    display: grid;
                    background-color: transparent;
                    grid-column: 1;
                    grid-template-rows: 1fr 1fr;
                    grid-template-columns: 1fr 0.05fr 1fr; 
                    white-space: nowrap;
                }

                .c2 {
                    display: grid;
                    background-color: transparent;
                    grid-column: 3;
                    grid-template-rows: 1fr 1fr;
                    grid-template-columns: 1fr 0.05fr 1fr; 
                    white-space: nowrap;
                }
            }

            .r2 {
                display: grid;
                grid-row: 2;
                grid-column: 1 / span 3; 
                grid-template-columns: 1fr 0.05fr 1fr;

                .c1 {
                    display: grid;
                    background-color: transparent;
                    grid-column: 1;
                    grid-template-rows: 1fr 1fr;
                    grid-template-columns: 1fr 0.05fr 1fr; 
                    white-space: nowrap;
                }

                .c2 {
                    display: grid;
                    background-color: transparent;
                    grid-column: 3;
                    grid-template-rows: 1fr 1fr;
                    grid-template-columns: 1fr 0.05fr 1fr; 
                    white-space: nowrap;
                }
            }

            .r3 {
                display: grid;
                grid-row: 3;
                grid-column: 1  / span 3;
                grid-template-columns: 1fr 0.05fr 1fr;

                .c1 {
                    background-color: transparent;
                    grid-column: 1;
                }

                .c2 {
                    background-color: transparent;
                    grid-column: 3;
                }
            }

            .r4 {
                display: grid;
                grid-row: 4;
                grid-column: 1 / span 3;
                grid-template-columns: 1fr 0.05fr 1fr;

                .c1 {
                    background-color: transparent;
                    grid-column: 1;
                }

                .c2 {
                    background-color: transparent;
                    grid-column: 3;
                }
            }

            .r5 {
                display: grid;
                grid-row: 5;
                grid-column: 1 / span 3;
                grid-template-columns: 1fr;

                .c1 {
                    background-color: transparent;
                    grid-column: 1;
                }
            }

            .r6 {
                display: grid;
                grid-row: 6;
                grid-column: 1 / span 3;
                grid-template-columns: 1fr;

                .c1 {
                    background-color: transparent;
                    grid-column: 1;
                }
            }
            
            .r7 {
                display: grid;
                grid-row: 7;
                grid-column: 1 / span 3;
                grid-template-columns: 1fr;

                .c1 {
                    background-color: transparent;
                    grid-column: 1;
                }

                /* To use these you must overwrite the grid-template-columns attribute of .r6 */
                .c2 {
                    grid-column: 3;
                }

                .c3 {
                    grid-column: 5;
                }
            }

            .r8 {
                display: grid;
                grid-row: 8;
                grid-column: 1 / span 3;
                grid-template-columns: 1fr;

                .c1 {
                    background-color: transparent;
                    grid-column: 1;
                }
            }

            .r9 {
                display: grid;
                grid-row: 9;
                grid-column: 1 / span 3;
                grid-template-columns: 1fr;

                .c1 {
                    background-color: transparent;
                    grid-column: 1;
                }
            }
        }
    }

    .column-right2-spacer {
        grid-row: 1 / span $rows;
        grid-column: 4;
        width: 1em;
    }

    .checkout-button {
        @include button-super;
        @include variables.button-base;

        grid-row: 3;
        grid-column: 1;

        &--mini {
            @include button-super;
            @include variables.button-base;
            grid-row: 3;
            grid-column: 1;

            &:focus-visible {
                outline: variables.$focus-styling;
            }
        }

        &:hover {
            background-color: variables.$secondary-light-2;
            transition: 0.2s;
        }

        &:focus-visible {
            outline: variables.$focus-styling;
        }
    }
}